<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spooky Contacts</title>
    <link rel="icon" type="image/x-icon" href="/images/6-pumpkin.ico">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/contacts.css">
    <script src="js/code.js"></script>
    <script src="https://kit.fontawesome.com/9f4a12d141.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        readCookie();
      }, false);
    </script>

    <style>
      .hero-section {
        background-image: url(images/site_background.svg);
        background-repeat: no-repeat;
      }
      </style> 
  </head>

  <body>
    <links>
      <a href="signup.html">Sign Up</a>
      <a onclick="doLogout();">Logout</a>
    </links>

    <header>
      Spooky Contacts
    </header>

    <div class="hero-section">

      <dialog class="modal" id="add-contact-popup">
        <div id="add-contact-popup-header">
          <h2 id="add-contact-popup-title">Add Contact</h2>
        </div>
        <p id="add-contact-result"></p>
        <h1 class="above-field-text">First Name</h1>
        <input class="input-field" placeholder="Enter First Name" id="new-firstname">
        <h1 class="above-field-text">Last Name</h1>
        <input class="input-field" placeholder="Enter Last Name" id="new-lastname">
        <h1 class="above-field-text">Phone</h1>
        <input class="input-field" placeholder="Enter Phone" id="new-phone">
        <h1 class="above-field-text">Email</h1>
        <input class="input-field" placeholder="Enter Email" id="new-email">
        <br>
        <button class="btn" id="add-contact-submit-button" onclick="doAddContact();">Save</button>
        <button class="btn-secondary" id="cancel-add-contact-button">Cancel</button>
      </dialog>

      <dialog class="modal" id="update-contact-popup">
        <div id="update-contact-popup-header">
          <h2 id="update-contact-popup-title">Update Contact</h2>
        </div>
        <p id="update-contact-result"></p>
        <h1 class="above-field-text">First Name</h1>
        <input class="input-field" placeholder="Enter New First Name" id="updated-firstname">
        <h1 class="above-field-text">Last Name</h1>
        <input class="input-field" placeholder="Enter New Last Name" id="updated-lastname">
        <h1 class="above-field-text">Phone</h1>
        <input class="input-field" placeholder="Enter New Phone" id="updated-phone">
        <h1 class="above-field-text">Email</h1>
        <input class="input-field" placeholder="Enter New Email" id="updated-email">
        <input type="hidden" id="contactID">
        <br>
        <button class="btn" id="update-contact-submit-button" onclick="doUpdateContact();">Save</button>
        <button class="btn-secondary" id="cancel-update-contact-button">Cancel</button>      
      </dialog>

      <div id="contacts-table-box">
        <div id="table-title-container">
          <contact_header id="contacts-table-title">My Contacts</contact_header>
          <div class="search-and-add-container">
            <div id="search-bar-container">
              <input id="search-bar" type="search" placeholder="Search contact information">
              <button class="btn search-button" onclick="doSearchContact();">
                <i class="fa-solid fa-magnifying-glass"></i>
              </button>
            </div>
            <button class="btn" id="open-add-contact-popup-button">Add Contact</button>
          </div>
        </div>
        <table id="contacts-table">
          <thead>
            <tr>
              <div class="table-header-container"></div>
              <th style="width: 0%;">
                <div class="table-header-field">
                  ContactID
                </div>
                <div class="table-header-sort-div">
                </div>
              </th>
              </div>
              <div class="table-header-container">
                <th>
                  <div class="table-header-field">
                    First Name
                  </div>
                  <div class="table-header-sort-div">
                    <button class="sort-button" id="firstNameSort">
                      <i class="fa-solid fa-arrow-up-a-z" id="first-name-alpha-sort"></i>
                    </button>
                  </div>
                </th>
              </div>
              <div class="table-header-container">
                <th>
                  <div class="table-header-field">
                    Last Name
                  </div>
                  <div class="table-header-sort-div">
                    <button class="sort-button" id="lastNameSort">
                      <i class="fa-solid fa-arrow-up-a-z" id="last-name-alpha-sort"></i>
                    </button>
                  </div>
                </th>
              </div>
              <div class="table-header-container">
                <th>
                  <div class="table-header-field">
                    Phone
                  </div>
                  <div class="table-header-sort-div">
                    <button class="sort-button" id="phoneSort">
                      <i class="fa-solid fa-arrow-up-1-9" id="phone-number-sort"></i>
                    </button>
                  </div>
                </th>
              </div>
              <div class="table-header-container">
                <th>
                  <div class="table-header-field">
                    Email
                  </div>
                  <div class="table-header-sort-div">
                    <button class="sort-button" id="emailSort">
                      <i class="fa-solid fa-arrow-up-a-z" id="email-alpha-sort"></i>
                    </button>
                  </div>
                </th>
              </div>

              <div class="table-header-container"></div>
                <th>
                  <div class="table-header-field">
                    Action
                  </div>
                  <div class="table-header-sort-div">
                  </div>
                </th>
              </div>
            </tr>
          </thead>
          <tbody id="contacts-table-body">
            <!--Contacts will get loaded from the API here-->
          </tbody>
        </table>
      </div>
  </div>

  <footer>
    <div class="footer-content">
        &copy; 2024 Team Six. No rights reserved.
    </div>
  </footer>

  <script src="js/contact_table.js"></script>

  </body>

</html>